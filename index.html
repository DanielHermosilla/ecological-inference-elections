<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Methods for A Fast Alternative for the R x C Ecological Inference Case • fastei</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Methods for A Fast Alternative for the R x C Ecological Inference Case">
<meta property="og:description" content="Estimates the probability matrix for the R×C Ecological Inference problem using the Expectation-Maximization Algorithm with four approximation methods for the E-Step, and an exact method as well. It also provides a bootstrap function to estimate the standard deviation of the estimated probabilities. In addition, it has functions that aggregate rows optimally to have more reliable estimates in cases of having few data points. For comparing the probability estimates of two groups, a Wald test routine is implemented. The library has data from the first round of the Chilean Presidential Election 2021 and can also generate synthetic election data. Methods described in Thraves, Charles; Ubilla, Pablo; Hermosilla, Daniel (2024) A Fast Ecological Inference Algorithm for the R×C case &lt;doi:10.2139/ssrn.4832834&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">fastei</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/covariates.html">Using the covariate approach</a>
    </li>
    <li>
      <a href="articles/demonstration.html">Demonstration of the package usage</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/DanielHermosilla/ecological-inference-elections/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="methods-for-a-fast-ecological-inference-algorithm-for-the-rxc-case">
<em>Methods for “A Fast Ecological Inference Algorithm for the RxC case”.</em><a class="anchor" aria-label="anchor" href="#methods-for-a-fast-ecological-inference-algorithm-for-the-rxc-case"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p>The following library includes a method (<code>run_em</code>) to solve the R×C Ecological Inference problem for the non-parametric case by using the EM algorithm with different approximation methods for the E-Step. Covariates are supported but not required. The standard deviation of the estimated probabilities can be computed using bootstrapping (bootstrap).</p>
<p>It also provides a function that generates synthetic election data (<code>simulate_election</code>) and a function that imports real election data (<code>chilean_election_2021</code>) from the Chilean first-round presidential election of 2021.</p>
<p>The setting in which the documentation presents the Ecological Inference problem is an election context where for a set of ballot-boxes we observe (i) the votes obtained by each candidate and (ii) the number of voters of each demographic group (for example, these can be defined by age ranges or sex). See <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=4832834" class="external-link">Thraves, C., Ubilla, P., Hermosilla, D. (2024): “A Fast Ecological Inference Algorithm for the R×C Case”.</a>.</p>
<p>The methods to compute the conditional probabilities of the E-Step included in this package are the following:</p>
<ul>
<li><p><strong>Markov Chain Monte Carlo</strong> (<code>mcmc</code>): Performs MCMC to sample vote outcomes for each ballot-box consistent with the observed data. This sample is used to estimate the conditional probability of the E-Step.</p></li>
<li><p><strong>Multivariate Normal PDF</strong> (<code>mvn_pdf</code>): Uses the PDF of a Multivariate Normal to approxi- mate the conditional probability.</p></li>
<li><p><strong>Multivariate Normal CDF</strong> (<code>mvn_cdf</code>): Uses the CDF of a Multivariate Normal to approxi- mate the conditional probability.</p></li>
<li><p><strong>Multinomial</strong> (<code>mult</code>): A single Multinomial is used to approximate the sum of Multinomial distributions.</p></li>
<li><p><strong>Exact</strong> (<code>exact</code>): Solves the E-Step exactly using the Total Probability Law, which requires enumerating an exponential number of terms.</p></li>
</ul>
<p>On average, the Multinomial method is the most efficient and precise. Its precision matches the Exact method.</p>
<p>The documentation uses the following notation:</p>
<ul>
<li>
<code>b</code>: number of ballot boxes.</li>
<li>
<code>g</code>: number of demographic groups.</li>
<li>
<code>c</code>: number of candidates.</li>
<li>
<code>a</code>: number of aggregated macro-groups.</li>
</ul>
<p>To learn more about <code>fastei</code>, please consult the available vignettes:</p>
<p><code>{r} browseVignettes("fastei")</code></p>
<p>Aditionally, it is possible to browse the full documentation on the <a href="https://danielhermosilla.github.io/ecological-inference-elections/" class="external-link">library website</a>. ### Installation</p>
<p>It can either be installed from source by running <code>devtools::install_github("DanielHermosilla/ecological-inference-elections)</code> or by the CRAN repository <code>install.packages("fastei")</code>. Fortran support is required, usually, shipped by R itself.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=fastei" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/DanielHermosilla/ecological-inference-elections/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/DanielHermosilla/ecological-inference-elections/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing fastei</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Charles Thraves <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-7491-7477" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Pablo Ubilla <br><small class="roles"> Author </small> <a href="https://orcid.org/0009-0003-9048-1767" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Daniel Hermosilla <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/DanielHermosilla/ecological-inference-elections/actions" class="external-link"><img src="https://img.shields.io/github/actions/workflow/status/DanielHermosilla/ecological-inference-elections/R-CMD-check-windows.yaml?branch=main&amp;label=Windows" alt="R-CMD-check-Windows"></a></li>
<li><a href="https://github.com/DanielHermosilla/ecological-inference-elections/actions" class="external-link"><img src="https://img.shields.io/github/actions/workflow/status/DanielHermosilla/ecological-inference-elections/R-CMD-check-macos.yaml?branch=main&amp;label=macOS" alt="R-CMD-check-macOS"></a></li>
<li><a href="https://CRAN.R-project.org/package=fastei" class="external-link"><img src="https://www.r-pkg.org/badges/version/fastei" alt="CRAN_Status_Badge"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Charles Thraves, Pablo Ubilla, Daniel Hermosilla.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
